(this.webpackJsonpmern=this.webpackJsonpmern||[]).push([[0],{30:function(e,a,t){e.exports=t(59)},35:function(e,a,t){},36:function(e,a,t){},59:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),o=t(28),c=t.n(o),l=(t(35),t(13)),i=t(1);t(36);var m=function(){return n.a.createElement("footer",{className:"footer border border-primary"},"@2020 Daniel Yu")};var s=function(){return n.a.createElement("nav",{className:" container border border-primary m-1 p-1 mx-auto",style:{width:"100vw"}},"Nav bar",n.a.createElement("a",{className:"navbar-brand",href:"/books/search"},"Search"),n.a.createElement("a",{className:"navbar-brand",href:"/books/save"},"Save"))},u=t(12),d=t(8);var v=function(e){var a=e.books,t=e.remove;return n.a.createElement(n.a.Fragment,null,a.map((function(e){return n.a.createElement("div",{key:e._id,className:"card m-9 p-1 border border-primary mx-auto",style:{marginBottom:"12px"}},n.a.createElement("div",{className:"row no-gutters"},n.a.createElement("div",{className:"col-md-4"},n.a.createElement("img",{src:e.image,className:"card-img",alt:"image"})),n.a.createElement("div",{className:"col-md-8 mx-auto"},n.a.createElement("div",{className:"card-body"},n.a.createElement("h5",{className:"card-title"},e.title),n.a.createElement("p",{className:"card-text"},e.authors),n.a.createElement("a",{href:e.link},n.a.createElement("button",{className:"m-9 mb-5"},"Look More")),n.a.createElement("button",{onClick:function(){return t(e._id)}},"Remove from save"),n.a.createElement("p",{className:"card-text"},e.description)))))})))},f=t(18),b=function(e){return f.post("/api/books",e)},p=function(){return f.get("/api/books")},E=function(e){return f.delete("/api/books/"+e)};var h=function(){var e=Object(r.useState)([]),a=Object(d.a)(e,2),t=a[0],o=a[1],c=Object(r.useState)(!1),l=Object(d.a)(c,2),i=l[0],m=l[1],s=function(){p().then((function(e){o(Object(u.a)(e.data)),m(!0)})).catch((function(e){return console.error(e)}))};return Object(r.useEffect)((function(){s()}),[]),i?n.a.createElement("div",{id:"saveList",className:"container border border-primary mx-auto mt-2",style:{width:"100vw"}},n.a.createElement("div",null,"Save List"),n.a.createElement("div",{className:"row border border-primary m-1 p-1"},n.a.createElement("ul",{className:"col-11 border border-primary m-1 p-1 mx-auto"},n.a.createElement(v,{books:t,remove:function(e){E(e).then((function(e){return s()})).catch((function(e){return console.error(e)}))}})))):n.a.createElement("div",{id:"saveList",className:"container border border-primary mx-auto mt-2",style:{width:"100vw"}},n.a.createElement("div",null,"Save List"),n.a.createElement("div",{className:"row border border-primary m-1 p-1"},n.a.createElement("ul",{className:"col-11 border border-primary m-1 p-1 mx-auto"},"Save List")))};var g=function(e){var a=e.value,t=e.handleSearchBtn,r=e.handleInputChange;return n.a.createElement("div",{className:" container border border-primary m-1 p-1 mx-auto",style:{width:"100vw"}},n.a.createElement("form",{type:"text",onChange:r,value:a,name:"book"},n.a.createElement("div",null,"search new book from"),n.a.createElement("input",null),n.a.createElement("button",{type:"submit",onClick:t},"Serach Book")))};var N=function(e){var a=e.results;return n.a.createElement(n.a.Fragment,null,a.map((function(e){return n.a.createElement("div",{key:e.id,className:"card m-9 p-1 border border-primary mx-auto",style:{marginBottom:"12px"}},n.a.createElement("div",{className:"row no-gutters"},n.a.createElement("div",{className:"col-md-4"},n.a.createElement("img",{src:e.volumeInfo.imageLinks.thumbnail,className:"card-img",alt:"image"})),n.a.createElement("div",{className:"col-md-8 mx-auto"},n.a.createElement("div",{className:"card-body"},n.a.createElement("h5",{className:"card-title"},e.volumeInfo.title),n.a.createElement("p",{className:"card-text"},e.volumeInfo.authors),n.a.createElement("a",{href:e.volumeInfo.infoLink},n.a.createElement("button",{className:"m-9 mb-5"},"Look More")),n.a.createElement("button",{onClick:function(){return a={title:e.volumeInfo.title,authors:e.volumeInfo.authors,image:e.volumeInfo.imageLinks.thumbnail,description:e.volumeInfo.description,link:e.volumeInfo.infoLink},void b(a).then((function(e){return console.log(e.data)})).catch((function(e){return console.error(e)}));var a}},"Save"),n.a.createElement("p",{className:"card-text"},e.volumeInfo.description)))))})))};var w=function(e){var a=e.books,t=a;return a.length>=10?(console.log("result",t),n.a.createElement("div",{id:"searchResult",className:"container border border-primary mx-auto"},n.a.createElement("div",null,"Search Result Container"),n.a.createElement("div",{className:"row border border-primary m-1 p-1"},n.a.createElement(N,{results:t})))):n.a.createElement("div",{id:"searchResult",className:"container border border-primary mx-auto"},n.a.createElement("div",null,"Search Result Container"),n.a.createElement("div",{className:"row border border-primary m-1 p-1"},n.a.createElement("ul",{className:"col-11 border border-primary m-1 p-1 mx-auto"},"Result")))},k=t(18),y=function(e){return k.get("https://www.googleapis.com/books/v1/volumes?q="+e)};var x=function(){var e=Object(r.useState)("searchs"),a=Object(d.a)(e,2),t=a[0],o=a[1],c=Object(r.useState)([]),l=Object(d.a)(c,2),i=l[0],m=l[1];return n.a.createElement("div",null,n.a.createElement(g,{value:t,handleSearchBtn:function(e){e.preventDefault(),y(t).then((function(e){return e.data.items})).then((function(e){m(Object(u.a)(e))})).catch((function(e){return console.log(e)}))},handleInputChange:function(e){e.preventDefault();var a=e.target.value;o(a)}}),n.a.createElement(w,{books:i}))};var S=function(){return n.a.createElement("div",{className:"App w-100 h-100"},n.a.createElement("div",{className:"wrapper"},n.a.createElement(l.a,null,n.a.createElement(s,null),n.a.createElement(i.b,null,n.a.createElement(l.a,{exact:!0,path:"/books/save"},n.a.createElement(h,null)),n.a.createElement(l.a,{path:"*"},n.a.createElement(x,null)))),n.a.createElement("div",{className:"push"})),n.a.createElement(m,null))},j=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function I(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(n.a.createElement(S,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");j?function(e){fetch(e).then((function(a){404===a.status||-1===a.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):I(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e):I(e)}))}}()}},[[30,1,2]]]);
//# sourceMappingURL=main.51c0d8ea.chunk.js.map